# üìñ –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É Massage Bot TMA

## –ó–º—ñ—Å—Ç

1. [–û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É](#1-–æ–≥–ª—è–¥-–ø—Ä–æ–µ–∫—Ç—É)
2. [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏](#2-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º–∏)
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫](#3-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π-—Å—Ç–µ–∫)
4. [–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Ç–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#4-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª-—Ç–∞-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ)
5. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö](#5-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑–∏-–¥–∞–Ω–∏—Ö)
6. [API endpoints](#6-api-endpoints)
7. [–°—Ç–æ—Ä—ñ–Ω–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É](#7-—Å—Ç–æ—Ä—ñ–Ω–∫–∏-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É)
8. [–†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤](#8-—Ä–æ–ª—ñ-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
9. [–ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –¥–µ–ø–ª–æ—é](#9-–ø–æ–∫—Ä–æ–∫–æ–≤–∞-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è-–∑-–¥–µ–ø–ª–æ—é)
10. [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è CI/CD](#10-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-cicd)
11. [Troubleshooting](#11-troubleshooting)

---

## 1. –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

**Massage Bot TMA** ‚Äî —Ü–µ Telegram Mini App –¥–ª—è –º–∞—Å–∞–∂–Ω–æ–≥–æ —Å–∞–ª–æ–Ω—É –∑ –ø–æ–≤–Ω–∏–º —Ü–∏–∫–ª–æ–º –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º –∫–ª—ñ—î–Ω—Ç–∞–º–∏, –º–∞–π—Å—Ç—Ä–∞–º–∏ —Ç–∞ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª–ª—é.

### –ë—ñ–∑–Ω–µ—Å-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è |
|----------|----------|
| –ö—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞–π—Å—Ç—Ä—ñ–≤ | 8-15 |
| –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Å–ª—É–≥ | 16-30 –∑ —ñ—î—Ä–∞—Ä—Ö—ñ—î—é –∫–∞—Ç–µ–≥–æ—Ä—ñ–π |
| –ö–æ–º–±–æ-–ø–∞–∫–µ—Ç–∏ | –¢–∞–∫ |
| –ö—ñ–ª—å–∫–∞ –ø–æ—Å–ª—É–≥ –∑–∞ –≤—ñ–∑–∏—Ç | –¢–∞–∫ |
| –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å | –ö–ª—ñ—î–Ω—Ç –æ–±–∏—Ä–∞—î: 30/60/90 —Ö–≤ |
| –ì—Ä–∞—Ñ—ñ–∫ | –ì–Ω—É—á–∫–∏–π, –∑–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å |
| –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –≤–ø–µ—Ä–µ–¥ | 14 –¥–Ω—ñ–≤ |
| –ö—Ä–æ–∫ —á–∞—Å—É | 15 —Ö–≤–∏–ª–∏–Ω |
| –ë—É—Ñ–µ—Ä –º—ñ–∂ –∑–∞–ø–∏—Å–∞–º–∏ | –ù–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –∞–¥–º—ñ–Ω–æ–º |
| –°–∫–∞—Å—É–≤–∞–Ω–Ω—è | –ó–∞ 2 –≥–æ–¥–∏–Ω–∏ (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è) |
| –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è | –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ—Å–ª—É–≥–∏ |
| –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞ | Portmone, –æ–±–æ–≤'—è–∑–∫–æ–≤–∞ –ø–µ—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ |
| –î–µ–ø–æ–∑–∏—Ç | –§—ñ–∫—Å–æ–≤–∞–Ω–∏–π –≤—ñ–¥—Å–æ—Ç–æ–∫ (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è) |
| –¶—ñ–Ω–∏ | –ó–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –º–∞–π—Å—Ç—Ä–∞ |
| –ü—Ä–æ–º–æ–∫–æ–¥–∏ | –¢–∞–∫ |
| –õ–æ—è–ª—å–Ω—ñ—Å—Ç—å | –®—Ç–∞–º–ø–∏: –∫–æ–∂–µ–Ω N-–π –≤—ñ–∑–∏—Ç –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ |
| –†–æ–ª—ñ | –í–ª–∞—Å–Ω–∏–∫, –ê–¥–º—ñ–Ω, –ú–∞–π—Å—Ç–µ—Ä, –ö–ª—ñ—î–Ω—Ç |
| –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è | Telegram Bot |
| –ú–æ–≤–∏ | UA/EN/RU, –∞–≤—Ç–æ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
| –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è | 1-10 –∑–∞–ø–∏—Å—ñ–≤/–¥–µ–Ω—å |

---

## 2. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        FRONTEND                              ‚îÇ
‚îÇ  Telegram Mini App (React + Vite)                          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ HomePage (–≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞)                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ BookingPage (–±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è)                               ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ ProfilePage (–ø—Ä–æ—Ñ—ñ–ª—å)                                  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ WaitlistPage (—Å–ø–∏—Å–æ–∫ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è)                       ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Master Dashboard (–ø–∞–Ω–µ–ª—å –º–∞–π—Å—Ç—Ä–∞)                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Admin Panel (–∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å)                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ REST API + JWT
                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        BACKEND                               ‚îÇ
‚îÇ  Node.js + Fastify + TypeScript                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Auth (Telegram InitData validation)                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Bookings (–±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è, —Å–ª–æ—Ç–∏)                           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Services (–ø–æ—Å–ª—É–≥–∏, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó)                          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Masters (–º–∞–π—Å—Ç—Ä–∏, —Ä–æ–∑–∫–ª–∞–¥)                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Payments (Portmone —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è)                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Loyalty (–ø—Ä–æ–≥—Ä–∞–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ)                          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Notifications (Telegram bot)                          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Reviews (–≤—ñ–¥–≥—É–∫–∏)                                      ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Promotions (–∞–∫—Ü—ñ—ó)                                    ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Waitlist (—Å–ø–∏—Å–æ–∫ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è)                          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Admin (CRUD –¥–ª—è –≤—Å—ñ—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π)                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                   Telegram Bot (Grammy)                     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Webhook –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∫–æ–º–∞–Ω–¥ —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                      Queue Workers                            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ BullMQ (–≤—ñ–¥–∫–ª–∞–¥–µ–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è, cron)                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚ñº                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      PostgreSQL          ‚îÇ   ‚îÇ         Redis           ‚îÇ
‚îÇ      (Supabase)         ‚îÇ   ‚îÇ    (Upstash/Railway)    ‚îÇ
‚îÇ                         ‚îÇ   ‚îÇ                         ‚îÇ
‚îÇ  - Users                ‚îÇ   ‚îÇ  - Queue jobs           ‚îÇ
‚îÇ  - Bookings             ‚îÇ   ‚îÇ  - Cache                ‚îÇ
‚îÇ  - Services             ‚îÇ   ‚îÇ  - Session data         ‚îÇ
‚îÇ  - Masters              ‚îÇ   ‚îÇ                         ‚îÇ
‚îÇ  - Reviews              ‚îÇ   ‚îÇ                         ‚îÇ
‚îÇ  - Loyalty              ‚îÇ   ‚îÇ                         ‚îÇ
‚îÇ  - Promotions            ‚îÇ   ‚îÇ                         ‚îÇ
‚îÇ  - Waitlist              ‚îÇ   ‚îÇ                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Frontend
- **React 18** + TypeScript
- **Vite** ‚Äî –∑–±—ñ—Ä–∫–∞ —Ç–∞ Dev Server
- **Telegram Mini App SDK** (@telegram-apps/sdk-react)
- **TailwindCSS** + **Framer Motion** ‚Äî —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó
- **React Query** (TanStack Query) ‚Äî —Å—Ç–∞–Ω —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
- **Zustand** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∏–π state management
- **react-i18next** ‚Äî –º—É–ª—å—Ç–∏–º–æ–≤–Ω—ñ—Å—Ç—å (UA/EN/RU)
- **Swiper.js** ‚Äî –∫–∞—Ä—É—Å–µ–ª—ñ
- **date-fns** ‚Äî —Ä–æ–±–æ—Ç–∞ –∑ –¥–∞—Ç–∞–º–∏

### Backend
- **Node.js** + TypeScript
- **Fastify** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Prisma ORM** ‚Äî —Ä–æ–±–æ—Ç–∞ –∑ –ë–î
- **Grammy** ‚Äî Telegram Bot Framework
- **Bull MQ** ‚Äî —á–µ—Ä–≥–∏ –∑–∞–¥–∞—á
- **Zod** ‚Äî –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- **JWT** + Telegram InitData validation ‚Äî –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

### Database & Infrastructure
- **PostgreSQL** (Supabase)
- **Redis** (Upstash –∞–±–æ Railway)
- **Vercel** ‚Äî —Ö–æ—Å—Ç–∏–Ω–≥ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
- **Railway** ‚Äî —Ö–æ—Å—Ç–∏–Ω–≥ –±–µ–∫–µ–Ω–¥—É

---

## 4. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Ç–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### 4.1 –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (HomePage)
- –ö–∞—Ä—É—Å–µ–ª—å –ø–æ—Å–ª—É–≥ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
- –ö–∞—Ä—É—Å–µ–ª—å –º–∞–π—Å—Ç—Ä—ñ–≤ –∑ —Ñ–æ—Ç–æ —Ç–∞ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é
- –ö–∞—Ä—É—Å–µ–ª—å –∞–∫—Ü—ñ–π —Ç–∞ –ø—Ä–æ–º–æ-–±–ª–æ–∫—ñ–≤
- –í—ñ–¥–≥—É–∫–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- Google Maps —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- –ö–Ω–æ–ø–∫–∞ —à–≤–∏–¥–∫–æ–≥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- –ü–µ—Ä–µ–º–∏–∫–∞—á –º–æ–≤ (UA/EN/RU)

### 4.2 –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (BookingPage)
- –í–∏–±—ñ—Ä –ø–æ—Å–ª—É–≥–∏ (–∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏)
- –í–∏–±—ñ—Ä –º–∞–π—Å—Ç—Ä–∞ (–∞–±–æ "–±—É–¥—å-—è–∫–∏–π")
- –í–∏–±—ñ—Ä –¥–∞—Ç–∏ —Ç–∞ —á–∞—Å—É (–∫–∞–ª–µ–Ω–¥–∞—Ä)
- –ü–µ—Ä–µ–≥–ª—è–¥ –≤—ñ–ª—å–Ω–∏—Ö —Å–ª–æ—Ç—ñ–≤
- –í–∏–±—ñ—Ä —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ (30/60/90 —Ö–≤)
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Å–ª—É–≥
- –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∫–æ–º–±–æ-–ø–∞–∫–µ—Ç—ñ–≤
- –í–≤–µ–¥–µ–Ω–Ω—è –ø—Ä–æ–º–æ–∫–æ–¥—É
- –í–∏–±—ñ—Ä —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç–∏
- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

### 4.3 –ü—Ä–æ—Ñ—ñ–ª—å (ProfilePage)
- –ü–µ—Ä–µ–≥–ª—è–¥ —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é
- –Ü—Å—Ç–æ—Ä—ñ—è –±—Ä–æ–Ω—é–≤–∞–Ω—å
- –ü—Ä–æ–≥—Ä–∞–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ (—à—Ç–∞–º–ø–∏)
- –ü–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Å –æ–¥–Ω–∏–º –∫–ª—ñ–∫–æ–º
- –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

### 4.4 –ü–∞–Ω–µ–ª—å –º–∞–π—Å—Ç—Ä–∞ (Master Dashboard)
- –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–æ–∑–∫–ª–∞–¥—É –Ω–∞ –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å
- –°–ø–∏—Å–æ–∫ –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–∏—Ö –≤—ñ–∑–∏—Ç—ñ–≤
- –í—ñ–¥–º—ñ—Ç–∫–∞ "–≤–∏–∫–æ–Ω–∞–Ω–æ" / "–Ω–µ –∑'—è–≤–∏–≤—Å—è"
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤, –¥–æ—Ö—ñ–¥)

### 4.5 –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (Admin Panel)
- **–î–∞—à–±–æ—Ä–¥** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –∫–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏
- **–ü–æ—Å–ª—É–≥–∏** ‚Äî CRUD –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–∞ –ø–æ—Å–ª—É–≥
- **–ú–∞–π—Å—Ç—Ä–∏** ‚Äî CRUD –º–∞–π—Å—Ç—Ä—ñ–≤, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É
- **–ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è** ‚Äî —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤—Å—ñ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º–∏
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** ‚Äî —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏
- **–ü—Ä–æ–º–æ–∫–æ–¥–∏** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- **–í—ñ–¥–≥—É–∫–∏** ‚Äî –º–æ–¥–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–≥—É–∫—ñ–≤
- **–õ–æ—è–ª—å–Ω—ñ—Å—Ç—å** ‚Äî –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏
- **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞** ‚Äî –∑–≤—ñ—Ç–∏ —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 4.6 –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å
- –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –∑–∞ 24 –≥–æ–¥–∏–Ω–∏
- –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –∑–∞ 2 –≥–æ–¥–∏–Ω–∏
- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- –ó–∞–ø–∏—Ç –≤—ñ–¥–≥—É–∫—É –ø—ñ—Å–ª—è –≤—ñ–∑–∏—Ç—É
- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∞–∫—Ü—ñ—ó

### 4.7 –°–ø–∏—Å–æ–∫ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è (Waitlist)
- –ó–∞–ø–∏—Å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –ø–æ—Å–ª—É–≥—É/–º–∞–π—Å—Ç—Ä–∞
- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏ –ø–æ—è–≤—ñ –≤—ñ–ª—å–Ω–æ–≥–æ —Å–ª–æ—Ç—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

---

## 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ

#### Users (–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ)
```prisma
- id: UUID
- telegramId: BigInt (unique)
- telegramUsername: String?
- firstName: String?
- lastName: String?
- phone: String?
- avatarUrl: String?
- role: Enum (client, master, admin, owner)
- language: String (default: "uk")
- isActive: Boolean
- createdAt, updatedAt: DateTime
```

#### ServiceCategory (–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥)
```prisma
- id: UUID
- parentId: UUID? (—ñ—î—Ä–∞—Ä—Ö—ñ—è)
- name: JSON ({ uk, en, ru })
- description: JSON?
- imageUrl: String?
- sortOrder: Int
- isActive: Boolean
```

#### Services (–ü–æ—Å–ª—É–≥–∏)
```prisma
- id: UUID
- categoryId: UUID?
- name: JSON
- description: JSON?
- imageUrl: String?
- requiresConfirmation: Boolean
- isActive: Boolean
- sortOrder: Int
```

#### ServiceDuration (–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –ø–æ—Å–ª—É–≥–∏)
```prisma
- id: UUID
- serviceId: UUID
- durationMinutes: Int
- basePrice: Decimal
- isActive: Boolean
```

#### Masters (–ú–∞–π—Å—Ç—Ä–∏)
```prisma
- id: UUID
- userId: UUID (link to User)
- displayName: JSON
- bio: JSON?
- photoUrl: String?
- specialization: String?
- isActive: Boolean
- sortOrder: Int
```

#### MasterSchedule (–†–æ–∑–∫–ª–∞–¥ –º–∞–π—Å—Ç—Ä–∞)
```prisma
- id: UUID
- masterId: UUID
- workDate: Date
- startTime: Time
- endTime: Time
- isDayOff: Boolean
```

#### MasterServices (–ü–æ—Å–ª—É–≥–∏ –º–∞–π—Å—Ç—Ä–∞)
```prisma
- id: UUID
- masterId: UUID
- serviceId: UUID
- priceModifier: Decimal (–º–Ω–æ–∂–Ω–∏–∫ —Ü—ñ–Ω–∏)
```

#### Combos (–ö–æ–º–±–æ-–ø–∞–∫–µ—Ç–∏)
```prisma
- id: UUID
- name: JSON
- description: JSON?
- imageUrl: String?
- discountPercent: Decimal
- isActive: Boolean
- sortOrder: Int
```

#### ComboItems (–ü–æ—Å–ª—É–≥–∏ –≤ –∫–æ–º–±–æ)
```prisma
- id: UUID
- comboId: UUID
- serviceId: UUID
- durationId: UUID
- sortOrder: Int
```

#### Bookings (–ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è)
```prisma
- id: UUID
- userId: UUID
- masterId: UUID
- bookingDate: Date
- startTime: Time
- endTime: Time
- status: Enum (pending_confirmation, confirmed, deposit_pending, deposit_paid, in_progress, completed, cancelled_by_client, cancelled_by_admin, no_show)
- totalPrice: Decimal
- depositAmount: Decimal
- depositPercent: Decimal
- promoCodeId: UUID?
- discountAmount: Decimal
- adminNotes: String?
- cancelReason: String?
- createdAt, updatedAt: DateTime
```

#### BookingItems (–ü–æ—Å–ª—É–≥–∏ –≤ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—ñ)
```prisma
- id: UUID
- bookingId: UUID
- serviceId: UUID
- durationId: UUID
- price: Decimal
- sortOrder: Int
```

#### Payments (–û–ø–ª–∞—Ç–∏)
```prisma
- id: UUID
- bookingId: UUID
- userId: UUID
- amount: Decimal
- type: Enum (deposit, full, refund)
- status: Enum (pending, success, failed, refunded)
- providerTxId: String?
- providerResponse: JSON?
- createdAt: DateTime
```

#### Reviews (–í—ñ–¥–≥—É–∫–∏)
```prisma
- id: UUID
- userId: UUID
- masterId: UUID
- bookingId: UUID?
- rating: Int (1-5)
- comment: Text?
- status: Enum (pending, approved, rejected)
- createdAt: DateTime
```

#### PromoCodes (–ü—Ä–æ–º–æ–∫–æ–¥–∏)
```prisma
- id: UUID
- code: String (unique)
- discountType: Enum (percent, fixed)
- discountValue: Decimal
- minOrderAmount: Decimal?
- maxUses: Int?
- currentUses: Int
- validFrom: DateTime?
- validUntil: DateTime?
- isActive: Boolean
```

#### LoyaltyStamps (–®—Ç–∞–º–ø–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ)
```prisma
- id: UUID
- userId: UUID
- bookingId: UUID?
- stampNumber: Int
- isReward: Boolean
- createdAt: DateTime
```

#### LoyaltySettings (–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ)
```prisma
- id: UUID
- stampsForReward: Int
- eligibleServices: JSON?
- isActive: Boolean
```

#### Notifications (–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è)
```prisma
- id: UUID
- userId: UUID
- bookingId: UUID?
- type: Enum
- channel: Enum (telegram, email, sms)
- status: Enum (pending, sent, failed)
- payload: JSON
- scheduledAt: DateTime
- sentAt: DateTime?
```

#### Waitlist (–°–ø–∏—Å–æ–∫ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è)
```prisma
- id: UUID
- userId: UUID
- serviceId: UUID?
- masterId: UUID?
- preferredDate: Date?
- preferredStart: Time?
- preferredEnd: Time?
- status: Enum (active, notified, booked, expired)
- createdAt: DateTime
```

#### Promotions (–ê–∫—Ü—ñ—ó)
```prisma
- id: UUID
- title: JSON
- description: JSON?
- imageUrl: String?
- startDate: DateTime
- endDate: DateTime
- isActive: Boolean
- sortOrder: Int
```

#### SiteSettings (–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∞–π—Ç—É)
```prisma
- id: UUID
- key: String (unique)
- value: JSON
- updatedAt: DateTime
```

---

## 6. API endpoints

### –ü—É–±–ª—ñ—á–Ω—ñ
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| GET | `/api/services` | –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª—É–≥ |
| GET | `/api/services/:id` | –î–µ—Ç–∞–ª—ñ –ø–æ—Å–ª—É–≥–∏ |
| GET | `/api/masters` | –°–ø–∏—Å–æ–∫ –º–∞–π—Å—Ç—Ä—ñ–≤ |
| GET | `/api/masters/:id` | –î–µ—Ç–∞–ª—ñ –º–∞–π—Å—Ç—Ä–∞ |
| GET | `/api/bookings/slots` | –í—ñ–ª—å–Ω—ñ —Å–ª–æ—Ç–∏ |
| GET | `/api/promotions` | –ê–∫—Ç–∏–≤–Ω—ñ –∞–∫—Ü—ñ—ó |
| GET | `/api/reviews` | –í—ñ–¥–≥—É–∫–∏ |

### –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| POST | `/api/auth/telegram` | –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Telegram |

### –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| GET | `/api/bookings` | –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω—é–≤–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| POST | `/api/bookings` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| GET | `/api/bookings/:id` | –î–µ—Ç–∞–ª—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| DELETE | `/api/bookings/:id` | –°–∫–∞—Å—É–≤–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |

### –ü—Ä–æ—Ñ—ñ–ª—å
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| GET | `/api/profile` | –î–∞–Ω—ñ –ø—Ä–æ—Ñ—ñ–ª—é |
| PUT | `/api/profile` | –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å |
| GET | `/api/profile/loyalty` | –®—Ç–∞–º–ø–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ |

### –ú–∞–π—Å—Ç–µ—Ä
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| GET | `/api/master/schedule` | –†–æ–∑–∫–ª–∞–¥ –º–∞–π—Å—Ç—Ä–∞ |
| PUT | `/api/master/schedule` | –û–Ω–æ–≤–∏—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥ |
| GET | `/api/master/bookings` | –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –º–∞–π—Å—Ç—Ä–∞ |
| PUT | `/api/master/bookings/:id/status` | –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å |

### –ê–¥–º—ñ–Ω
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| CRUD | `/api/admin/services` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ—Å–ª—É–≥–∞–º–∏ |
| CRUD | `/api/admin/combos` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–º–±–æ |
| CRUD | `/api/admin/masters` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞–π—Å—Ç—Ä–∞–º–∏ |
| CRUD | `/api/admin/bookings` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º–∏ |
| CRUD | `/api/admin/users` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ |
| CRUD | `/api/admin/promo-codes` | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ |
| CRUD | `/api/admin/reviews` | –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–≥—É–∫—ñ–≤ |
| GET | `/api/admin/analytics` | –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ |

---

## 7. –°—Ç–æ—Ä—ñ–Ω–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

### –ö–ª—ñ—î–Ω—Ç—Å—å–∫—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
| –®–ª—è—Ö | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å |
|------|-----------|------|
| `/` | HomePage | –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ |
| `/booking` | BookingPage | –ú–∞—Å—Ç–µ—Ä –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| `/profile` | ProfilePage | –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `/waitlist` | WaitlistPage | –°–ø–∏—Å–æ–∫ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è |

### –°—Ç–æ—Ä—ñ–Ω–∫–∏ –º–∞–π—Å—Ç—Ä–∞
| –®–ª—è—Ö | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å |
|------|-----------|------|
| `/master` | MasterDashboardPage | –î–∞—à–±–æ—Ä–¥ –º–∞–π—Å—Ç—Ä–∞ |
| `/master/schedule` | MasterSchedulePage | –†–æ–∑–∫–ª–∞–¥ |
| `/master/bookings` | MasterBookingsPage | –ó–∞–ø–∏—Å–∏ |

### –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
| –®–ª—è—Ö | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å |
|------|-----------|------|
| `/admin` | AdminDashboardPage | –î–∞—à–±–æ—Ä–¥ |
| `/admin/services` | AdminServicesPage | –ü–æ—Å–ª—É–≥–∏ |
| `/admin/masters` | AdminMastersPage | –ú–∞–π—Å—Ç—Ä–∏ |
| `/admin/bookings` | AdminBookingsPage | –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| `/admin/users` | AdminUsersPage | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ |
| `/admin/promo-codes` | AdminPromoCodesPage | –ü—Ä–æ–º–æ–∫–æ–¥–∏ |
| `/admin/reviews` | AdminReviewsPage | –í—ñ–¥–≥—É–∫–∏ |
| `/admin/analytics` | AdminAnalyticsPage | –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ |

---

## 8. –†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

| –†–æ–ª—å | –ü—Ä–∞–≤–∞ |
|------|-------|
| **client** | –ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Å–ª—É–≥, –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è, –ø—Ä–æ—Ñ—ñ–ª—å, –≤—ñ–¥–≥—É–∫–∏ |
| **master** | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥–æ–º, –ø–µ—Ä–µ–≥–ª—è–¥ –∑–∞–ø–∏—Å—ñ–≤ |
| **admin** | –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ |
| **owner** | –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø + —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–¥–º—ñ–Ω–∞–º–∏ |

---

## 9. –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –¥–µ–ø–ª–æ—é

### 9.1 –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/your-repo/massage-bot.git
cd massage-bot

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pnpm install
```

### 9.2 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase (–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö)

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ [supabase.com](https://supabase.com)
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ `DATABASE_URL` –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–æ–µ–∫—Ç—É:
   ```
   postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT].supabase.co:5432/postgres
   ```

### 9.3 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Redis

**–í–∞—Ä—ñ–∞–Ω—Ç A: Upstash (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ [upstash.com](https://upstash.com)
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ `REDIS_URL`

**–í–∞—Ä—ñ–∞–Ω—Ç B: Railway Redis**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ [railway.app](https://railway.app)
2. –î–æ–¥–∞–π—Ç–µ Redis plugin

### 9.4 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram Bot

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ @BotFather –≤ Telegram
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞: `/newbot`
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Mini App:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ @BotFather ‚Üí /mybots ‚Üí –≤–∞—à –±–æ—Ç ‚Üí Bot Settings ‚Üí Menu Button ‚Üí Configure Menu Button
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–Ω–æ–ø–∫—É –∑ URL –≤–∞—à–æ–≥–æ Vercel –¥–æ–¥–∞—Ç–∫—É

### 9.5 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Vercel (Frontend)

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Vercel CLI
npm i -g vercel

# –£ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó web
cd apps/web

# –î–µ–ø–ª–æ–π
vercel --prod
```

–ê–±–æ –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–æ Vercel:
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ [vercel.com](https://vercel.com)
2. –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ:
   - Framework Preset: Vite
   - Build Command: `pnpm build`
   - Output Directory: `dist`
   - Install Command: `pnpm install`

### 9.6 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Railway (Backend)

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Railway CLI
npm i -g @railway/cli

# –õ–æ–≥—ñ–Ω
railway login

# –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç
railway init

# –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
railway variables set DATABASE_URL="postgresql://..."
railway variables set REDIS_URL="redis://..."
railway variables set BOT_TOKEN="your-telegram-bot-token"
railway variables set WEBAPP_URL="https://your-app.vercel.app"
railway variables set BOT_WEBHOOK_URL="https://your-api.railway.app/webhook"
railway variables set JWT_SECRET="your-secret-key-min-32-chars"
railway variables set NODE_ENV="production"
railway variables set CORS_ORIGIN="https://your-app.vercel.app"

# –î–µ–ø–ª–æ–π
railway up
```

### 9.7 –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
railway run pnpm db:migrate:prod
railway run pnpm db:seed
```

### 9.8 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±—Ö—É–∫—É Telegram

–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ Railway –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ webhook –¥–ª—è Telegram –±–æ—Ç–∞:

```bash
# –û—Ç—Ä–∏–º–∞–π—Ç–µ URL –≤–∞—à–æ–≥–æ API
curl -X POST "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook?url=https://your-api.railway.app/webhook"
```

–ê–±–æ –¥–æ–¥–∞–π—Ç–µ –¥–æ Railway –∑–º—ñ–Ω–Ω—É `BOT_WEBHOOK_URL` ‚Äî –±–æ—Ç –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ–±—Ö—É–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ.

---

## 10. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è CI/CD

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ secrets

–î–æ–¥–∞–π—Ç–µ –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ‚Üí Settings ‚Üí Secrets:

| Secret | –û–ø–∏—Å |
|--------|------|
| `VERCEL_TOKEN` | Token –∑ [vercel.com/account/tokens](https://vercel.com/account/tokens) |
| `VERCEL_ORG_ID` | ID –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó Vercel |
| `VERCEL_PROJECT_ID` | ID –ø—Ä–æ–µ–∫—Ç—É Vercel |
| `RAILWAY_TOKEN` | Token –∑ railway.app/account/tokens |

### Workflow

CI/CD –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –≤ `.github/workflows/deploy.yml`:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Vercel –ø—Ä–∏ –ø—É—à—ñ –≤ main
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Railway –ø—Ä–∏ –ø—É—à—ñ –≤ main
- TypeScript –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ linting

---

## 11. Troubleshooting

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `BOT_WEBHOOK_URL` –≤ Railway
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `railway logs`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–µ–±—Ö—É–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ü–æ–º–∏–ª–∫–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- –ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó: `railway run pnpm db:migrate:prod`

### CORS –ø–æ–º–∏–ª–∫–∏
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `CORS_ORIGIN` –≤ Railway –∑–º—ñ–Ω–Ω–∏—Ö
- –ú–∞—î –±—É—Ç–∏ –ø–æ–≤–Ω–∏–π URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É (https://...)

### –ü–æ–º–∏–ª–∫–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `JWT_SECRET` ‚Äî –º–∞—î –±—É—Ç–∏ –º—ñ–Ω—ñ–º—É–º 32 —Å–∏–º–≤–æ–ª–∏
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö

### Redis –ø–æ–º–∏–ª–∫–∏
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `REDIS_URL`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ Redis –ø—Ä–∞—Ü—é—î

## –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –õ–æ–≥–∏ Railway
railway logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
railway restart

# Shell
railway run sh

# –ó–º—ñ–Ω–Ω—ñ
railway variables

# –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
pnpm dev

# –ó–±—ñ—Ä–∫–∞
pnpm build

# –ú—ñ–≥—Ä–∞—Ü—ñ—ó
pnpm db:migrate

# Seed –¥–∞–Ω—ñ
pnpm db:seed
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
massage-bot/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ server/                 # Backend (Node.js + Fastify)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/           # Telegram Bot
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/        # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modules/       # API –º–æ–¥—É–ª—ñ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/     # –ê–¥–º—ñ–Ω –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/      # –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bookings/  # –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ masters/   # –ú–∞–π—Å—Ç—Ä–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/  # –ü–æ—Å–ª—É–≥–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ queues/        # –ß–µ—Ä–≥–∏ (BullMQ)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/      # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/        # –°–ø—ñ–ª—å–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prisma/            # Schema —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ web/                   # Frontend (React + Vite)
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ app/           # App, Router, Providers
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ pages/         # –°—Ç–æ—Ä—ñ–Ω–∫–∏
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/     # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking/   # –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home/      # –ì–æ–ª–æ–≤–Ω–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ master/    # –ü–∞–Ω–µ–ª—å –º–∞–π—Å—Ç—Ä–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/   # –ü—Ä–æ—Ñ—ñ–ª—å
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ waitlist/  # –°–ø–∏—Å–æ–∫ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ shared/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, API, —Ö—É–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ index.html
‚îÇ       ‚îú‚îÄ‚îÄ vite.config.ts
‚îÇ       ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ plans/                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ architecture.md
‚îÇ   ‚îú‚îÄ‚îÄ implementation-plan.md
‚îÇ   ‚îî‚îÄ‚îÄ project-documentation.md
‚îÇ
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/            # CI/CD
‚îÇ
‚îú‚îÄ‚îÄ package.json              # pnpm workspace
‚îú‚îÄ‚îÄ pnpm-workspace.yaml
‚îî‚îÄ‚îÄ DEPLOY.md                 # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –¥–µ–ø–ª–æ—é
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —â–æ–¥–æ –ø—Ä–æ–µ–∫—Ç—É –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤.

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2026-02-23
